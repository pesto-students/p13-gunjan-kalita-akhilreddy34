<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add a Review</title>
    <style>
      label {
        display: block;
        margin-bottom: 5px;
      }
    </style>
  </head>
  <body>
    <h1>Restaurant Reviews</h1>
    <nav>
      <ul>
        <li><a href="home.html">Home</a></li>
        <li><a href="addReview.html">Add Review</a></li>
        <li><a href="about.html">About</a></li>
      </ul>
    </nav>
    <h3>Add Review</h3>
    <form id="reviewForm">
      <div>
        <label for="name">Name</label>
        <input type="text" required name="name" id="name" placeholder="Akhil" />
      </div>

      <div>
        <label for="restaurant">Restaurant?</label>

        <select name="restaurant" id="restaurant">
          <option value="" disabled selected>choose one</option>

          <option value="Main Street Cafe">Main Street Cafe</option>
          <option value="Greek House">Greek House</option>
        </select>
      </div>

      <div>
        <label for="date">Date of visit?</label>
        <input type="date" required name="date" id="date" />
      </div>

      <div>
        <label for="rating">Rating?</label>
        <input
          type="number"
          required
          name="rating"
          id="rating"
          min="0"
          max="5"
          value="5"
        />
      </div>
      <div>
        <label for="details">Details?</label>
        <textarea rows="5" cols="50" name="details" id="details"></textarea>
      </div>
      <div>
        <input type="submit" value="submit" />
      </div>
    </form>
    <p>2023 Restaurant Reviews</p>

    <script>
      document
        .getElementById("reviewForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          const userReviewDetails = {};
          userReviewDetails.name = document.getElementById("name").value;
          userReviewDetails.restaurant =
            document.getElementById("restaurant").value;
          userReviewDetails.date = document.getElementById("date").value;
          userReviewDetails.rating = document.getElementById("rating").value;
          userReviewDetails.message = document.getElementById("details").value;
          const existingReviews = localStorage.getItem("reviews")
            ? JSON.parse(localStorage.getItem("reviews"))
            : [];

          existingReviews.push(userReviewDetails);

          localStorage.setItem("reviews", JSON.stringify(existingReviews));
          alert("your review has been submitted successfully");
        });
    </script>
  </body>
</html>
